<%= form_with model: recipe, data: { turbo_frame: "recipe_form" } do |f| %>

  <div class="mb-3">
    <%= f.label :title, "Tytuł", class: "form-label" %>
    <%= f.text_field :title, class: "form-control", required: true, autofocus: true %>
  </div>

  <div class="mb-3">
    <%= f.label :category_id, "Kategoria", class: "form-label" %>
    <%= f.select :category_id,
                 options_from_collection_for_select(categories, :id, :name, recipe.category_id),
                 { prompt: "Wybierz kategorię" },
                 class: "form-select" %>
  </div>

  <div class="mb-3">
    <%= f.label :preparation_time, "Czas przygotowania (minuty)", class: "form-label" %>
    <%= f.number_field :preparation_time, min: 1, class: "form-control" %>
  </div>

  <div class="mb-3">
    <%= f.label :ingredients, "Składniki", class: "form-label" %>
    <%= f.text_area :ingredients, rows: 6, class: "form-control" %>
  </div>

  <div class="mb-3">
    <%= f.label :description, "Sposób przygotowania", class: "form-label" %>
    <%= f.text_area :description, rows: 8, class: "form-control" %>
  </div>

  <div class="d-flex gap-2 mt-4 justify-content-center">
    <%= f.submit(
          recipe.persisted? ? "Zapisz zmiany" : "Opublikuj przepis",
          class: "btn fw-semibold text-white",
          style: "background: linear-gradient(135deg, #28a745, #85e085); border: none;"
        ) %>

    <%= link_to "Anuluj",
                recipe.persisted? ? my_recipes_path : root_path,
                class: "btn fw-semibold text-white",
                style: "background: linear-gradient(135deg, #dc3545, #ff6b6b); border: none;"
    %>
  </div>
<% end %>
